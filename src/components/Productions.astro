---
import { producciones } from "@/mooks/productions"

const productions = producciones.sort((curr, next) => next.create_date - curr.create_date)
---

<section class="py-14">
	<div
		class="mx-auto grid w-[92%] max-w-[1500px] grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-12 lg:grid-cols-[repeat(4,1fr)]"
	>
		{
			productions.map(({ id, reference_name, title, create_date }, index) => {
				if (index === 3) {
					return (
						<>
							<article id={id} class="group w-full overflow-hidden sm:relative">
								<a class="cursor-pointer" data-astro-prefetch="load" href={`/producciones/${id}`}>
									<figure class="w-full">
										<div class="h-auto w-full overflow-hidden">
											<img
												class="h-auto w-full object-cover drop-shadow-md transition-transform duration-300 group-hover:scale-110"
												src={`https://cdn.otroladodancecompany.com/produccion/${reference_name}/${reference_name}_small.webp`}
												alt=""
											/>
										</div>
										<figcaption class="pt-2">
											<h4 class="text-xl font-semibold uppercase">{title}</h4>
											<time class="text-clementine-500" datetime="2023">
												{new Date(create_date).getFullYear()}
											</time>
										</figcaption>
									</figure>
								</a>
							</article>
							<article class="col-span-4 hidden max-w-[1024px] justify-center gap-6 py-8 lg:flex">
								<div class="flex w-1/3 flex-col items-end justify-center text-3xl font-semibold uppercase">
									<h5 class="text-black">_new season</h5>
									<h5 class="text-clementine-500">new</h5>
									<h5 class="text-clementine-500">experience</h5>
								</div>
								<div class="w-2/3 max-w-[600px]">
									<p class="text-balance p-4 text-base uppercase leading-7">
										La nueva temporada de la compañía se presenta con una nueva experiencia teatral
										que busca acercar al público a la danza contemporánea y a la experimentación
										escénica.
									</p>
								</div>
							</article>
						</>
					)
				}
				return (
					<article id={id} class="group w-full overflow-hidden sm:relative">
						<a class="cursor-pointer" href={`/producciones/${id}`}>
							<figure class="w-full">
								<div class="h-auto w-full overflow-hidden">
									<img
										class="h-auto w-full object-cover drop-shadow-md transition-transform duration-300 group-hover:scale-110"
										src={`https://cdn.otroladodancecompany.com/produccion/${reference_name}/${reference_name}_small.webp`}
										alt=""
									/>
								</div>
								<figcaption class="pt-2">
									<h4 class="text-xl font-semibold uppercase">{title}</h4>
									<time class="text-clementine-500" datetime="2023">
										{new Date(create_date).getFullYear()}
									</time>
								</figcaption>
							</figure>
						</a>
					</article>
				)
			})
		}
	</div>
</section>
